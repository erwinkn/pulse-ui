---
title: PulseContext
---

Composite context accessible to hooks and internals.

Manages per-request state via context variables. Provides access to the
application instance, user session, render session, and route context.

## Attributes

<PyAttribute name={"app"} type={"App"} value={null}>

Application instance.

</PyAttribute>

<PyAttribute name={"session"} type={"UserSession | None"} value={"None"}>

Per-user session (UserSession or None).

</PyAttribute>

<PyAttribute name={"render"} type={"RenderSession | None"} value={"None"}>

Per-connection render session (RenderSession or None).

</PyAttribute>

<PyAttribute name={"route"} type={"RouteContext | None"} value={"None"}>

Active route context (RouteContext or None).

</PyAttribute>

<PyAttribute name={"_token"} type={"Token[PulseContext | None] | None"} value={"None"} />

## Functions

<PyFunction name={"get"} type={"(cls) -> PulseContext"}>

Get the current context.

<PySourceCode >

```python
@classmethod
def get(cls) -> "PulseContext":
	"""Get the current context.

	Returns:
		Current PulseContext instance.

	Raises:
		RuntimeError: If no context is active.
	"""
	ctx = PULSE_CONTEXT.get()
	if ctx is None:
		raise RuntimeError("Internal error: PULSE_CONTEXT is not set")
	return ctx
```

</PySourceCode>

<div >

<PyParameter name={"cls"} type={null} value={null} />

</div>

<PyFunctionReturn type={"pulse.context.PulseContext"}>

Current PulseContext instance.

</PyFunctionReturn>

</PyFunction>

<PyFunction name={"update"} type={"(cls, session=None, render=None, route=None) -> PulseContext"}>

Create a new context with updated values.

Inherits unspecified values from the current context.

<PySourceCode >

```python
@classmethod
def update(
	cls,
	session: "UserSession | None" = None,
	render: "RenderSession | None" = None,
	route: "RouteContext | None" = None,
) -> "PulseContext":
	"""Create a new context with updated values.

	Inherits unspecified values from the current context.

	Args:
		session: New session (optional, inherits if not provided).
		render: New render session (optional, inherits if not provided).
		route: New route context (optional, inherits if not provided).

	Returns:
		New PulseContext instance with updated values.
	"""
	ctx = cls.get()
	return PulseContext(
		app=ctx.app,
		session=session or ctx.session,
		render=render or ctx.render,
		route=route or ctx.route,
	)
```

</PySourceCode>

<div >

<PyParameter name={"cls"} type={null} value={null} />
<PyParameter name={"session"} type={"UserSession | None"} value={"None"}>

New session (optional, inherits if not provided).

</PyParameter>
<PyParameter name={"render"} type={"RenderSession | None"} value={"None"}>

New render session (optional, inherits if not provided).

</PyParameter>
<PyParameter name={"route"} type={"RouteContext | None"} value={"None"}>

New route context (optional, inherits if not provided).

</PyParameter>

</div>

<PyFunctionReturn type={"pulse.context.PulseContext"}>

New PulseContext instance with updated values.

</PyFunctionReturn>

</PyFunction>

<PyFunction name={"__enter__"} type={"(self)"}>

<PySourceCode >

```python
def __enter__(self):
	self._token = PULSE_CONTEXT.set(self)
	return self
```

</PySourceCode>

<div >

<PyParameter name={"self"} type={null} value={null} />

</div>

<PyFunctionReturn type={null} />

</PyFunction>

<PyFunction name={"__exit__"} type={"(self, exc_type=None, exc_val=None, exc_tb=None) -> Literal[False]"}>

<PySourceCode >

```python
def __exit__(
	self,
	exc_type: type[BaseException] | None = None,
	exc_val: BaseException | None = None,
	exc_tb: TracebackType | None = None,
) -> Literal[False]:
	if self._token is not None:
		PULSE_CONTEXT.reset(self._token)
		self._token = None
	return False
```

</PySourceCode>

<div >

<PyParameter name={"self"} type={null} value={null} />
<PyParameter name={"exc_type"} type={"type[BaseException] | None"} value={"None"} />
<PyParameter name={"exc_val"} type={"BaseException | None"} value={"None"} />
<PyParameter name={"exc_tb"} type={"TracebackType | None"} value={"None"} />

</div>

<PyFunctionReturn type={"typing.Literal[False]"} />

</PyFunction>

<PyFunction name={"__init__"} type={"(self, app, session=None, render=None, route=None, _token=None) -> None"}>

<div >

<PyParameter name={"self"} type={null} value={null} />
<PyParameter name={"app"} type={"App"} value={null} />
<PyParameter name={"session"} type={"UserSession | None"} value={"None"} />
<PyParameter name={"render"} type={"RenderSession | None"} value={"None"} />
<PyParameter name={"route"} type={"RouteContext | None"} value={"None"} />
<PyParameter name={"_token"} type={"Token[PulseContext | None] | None"} value={"None"} />

</div>

<PyFunctionReturn type={"None"} />

</PyFunction>