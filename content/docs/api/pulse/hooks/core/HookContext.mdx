---
title: HookContext
---

## Attributes

<PyAttribute name={"render_cycle"} type={"int"} value={"0"} />

<PyAttribute name={"namespaces"} type={"dict[str, HookNamespace[Any]]"} value={"{}"} />

## Functions

<PyFunction name={"__init__"} type={"(self) -> None"}>

<PySourceCode >

```python
def __init__(self) -> None:
	self.render_cycle = 0
	self.namespaces = {}
	self._token = None
```

</PySourceCode>

<div >

<PyParameter name={"self"} type={null} value={null} />

</div>

<PyFunctionReturn type={"None"} />

</PyFunction>

<PyFunction name={"require"} type={"(caller=None)"}>

<PySourceCode >

```python
@staticmethod
def require(caller: str | None = None):
	ctx = HOOK_CONTEXT.get()
	if ctx is None:
		caller = caller or "this function"
		raise HookError(
			f"Missing hook context, {caller} was likely called outside rendering"
		)
	return ctx
```

</PySourceCode>

<div >

<PyParameter name={"caller"} type={"str | None"} value={"None"} />

</div>

<PyFunctionReturn type={null} />

</PyFunction>

<PyFunction name={"__enter__"} type={"(self)"}>

<PySourceCode >

```python
def __enter__(self):
	self.render_cycle += 1
	self._token = HOOK_CONTEXT.set(self)
	for namespace in self.namespaces.values():
		namespace.on_render_start(self.render_cycle)
	return self
```

</PySourceCode>

<div >

<PyParameter name={"self"} type={null} value={null} />

</div>

<PyFunctionReturn type={null} />

</PyFunction>

<PyFunction name={"__exit__"} type={"(self, exc_type, exc_val, exc_tb) -> Literal[False]"}>

<PySourceCode >

```python
def __exit__(
	self,
	exc_type: type[BaseException] | None,
	exc_val: BaseException | None,
	exc_tb: Any,
) -> Literal[False]:
	if self._token is not None:
		HOOK_CONTEXT.reset(self._token)
		self._token = None

		for namespace in self.namespaces.values():
			namespace.on_render_end(self.render_cycle)
	return False
```

</PySourceCode>

<div >

<PyParameter name={"self"} type={null} value={null} />
<PyParameter name={"exc_type"} type={"type[BaseException] | None"} value={null} />
<PyParameter name={"exc_val"} type={"BaseException | None"} value={null} />
<PyParameter name={"exc_tb"} type={"Any"} value={null} />

</div>

<PyFunctionReturn type={"typing.Literal[False]"} />

</PyFunction>

<PyFunction name={"namespace_for"} type={"(self, hook) -> HookNamespace[T]"}>

<PySourceCode >

```python
def namespace_for(self, hook: Hook[T]) -> HookNamespace[T]:
	namespace = self.namespaces.get(hook.name)
	if namespace is None:
		namespace = HookNamespace(hook)
		self.namespaces[hook.name] = namespace
	return namespace
```

</PySourceCode>

<div >

<PyParameter name={"self"} type={null} value={null} />
<PyParameter name={"hook"} type={"Hook[T]"} value={null} />

</div>

<PyFunctionReturn type={"pulse.hooks.core.HookNamespace[pulse.hooks.core.T]"} />

</PyFunction>

<PyFunction name={"unmount"} type={"(self) -> None"}>

<PySourceCode >

```python
def unmount(self) -> None:
	for namespace in self.namespaces.values():
		namespace.dispose()
	self.namespaces.clear()
```

</PySourceCode>

<div >

<PyParameter name={"self"} type={null} value={null} />

</div>

<PyFunctionReturn type={"None"} />

</PyFunction>