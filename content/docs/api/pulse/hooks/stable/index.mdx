---
title: stable
---

<PyAttribute name={"T"} type={null} value={"TypeVar('T')"} />

<PyAttribute name={"TCallable"} type={null} value={"TypeVar('TCallable', bound=(Callable[..., Any]))"} />

<PyAttribute name={"__all__"} type={null} value={"['stable', 'StableRegistry', 'StableEntry']"} />

<Tabs items={["Class","Functions"]}>

<Tab value={"Class"}>

<Cards >

<Card title={"StableEntry"} href={"/docs/api/pulse/hooks/stable/StableEntry"} />
<Card title={"StableRegistry"} href={"/docs/api/pulse/hooks/stable/StableRegistry"} />

</Cards>

</Tab>
<Tab value={"Functions"}>

<PyFunction name={"_stable_factory"} type={"(*_) -> StableRegistry"}>

<PySourceCode >

```python
def _stable_factory(*_: object) -> StableRegistry:
	return StableRegistry()
```

</PySourceCode>

<div >

<PyParameter name={"_"} type={"object"} value={"()"} />

</div>

<PyFunctionReturn type={"pulse.hooks.stable.StableRegistry"} />

</PyFunction>
<PyFunction name={"stable"} type={"(key, value=MISSING)"}>

Return a stable wrapper that always calls the latest value.

Creates a wrapper function that maintains a stable reference across renders
while delegating to the current value. Useful for event handlers and callbacks
that need to stay referentially stable.

Example:

```python
def my_component():
    s = ps.state("data", lambda: DataState())

    # Without stable, this would create a new function each render
    handle_click = ps.stable("click", lambda: s.increment())

    return m.Button("Click", on_click=handle_click)
```

<Callout title={"Use Cases"} type={"use-cases"}>

- Event handlers passed to child components to prevent unnecessary re-renders
- Callbacks registered with external systems
- Any function reference that needs to stay stable across renders

</Callout>

<PySourceCode >

```python
def stable(key: str, value: Any = MISSING):
	"""Return a stable wrapper that always calls the latest value.

	Creates a wrapper function that maintains a stable reference across renders
	while delegating to the current value. Useful for event handlers and callbacks
	that need to stay referentially stable.

	Args:
		key: Unique identifier for this stable value within the component.
		value: Optional value or callable to wrap. If provided, updates the
			stored value and returns the wrapper. If omitted, returns the
			existing wrapper for the key.

	Returns:
		A stable wrapper function that delegates to the current value. If the
		value is callable, the wrapper calls it with any provided arguments.
		If not callable, the wrapper returns the value directly.

	Raises:
		ValueError: If key is empty.
		KeyError: If value is not provided and no entry exists for the key.

	Example:

	\```python
	def my_component():
	    s = ps.state("data", lambda: DataState())

	    # Without stable, this would create a new function each render
	    handle_click = ps.stable("click", lambda: s.increment())

	    return m.Button("Click", on_click=handle_click)
	\```

	Use Cases:
		- Event handlers passed to child components to prevent unnecessary re-renders
		- Callbacks registered with external systems
		- Any function reference that needs to stay stable across renders
	"""
	if not key:
		raise ValueError("stable() requires a non-empty string key")

	registry = _stable_hook()
	entry = registry.entries.get(key)

	if value is not MISSING:
		if entry is None:
			entry = StableEntry(value)
			registry.entries[key] = entry
		else:
			entry.value = value
		return entry.wrapper

	if entry is None:
		raise KeyError(f"stable(): no value registered for key '{key}'")
	return entry.wrapper
```

</PySourceCode>

<div >

<PyParameter name={"key"} type={"str"} value={undefined}>

Unique identifier for this stable value within the component.

</PyParameter>
<PyParameter name={"value"} type={"Any"} value={"MISSING"}>

Optional value or callable to wrap. If provided, updates the
stored value and returns the wrapper. If omitted, returns the
existing wrapper for the key.

</PyParameter>

</div>

<PyFunctionReturn type={null}>

A stable wrapper function that delegates to the current value. If the

</PyFunctionReturn>

</PyFunction>

</Tab>

</Tabs>