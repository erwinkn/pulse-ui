---
title: _LazyComponentFactory
---

React.lazy binding that works both at definition time and in `@javascript`.

This Expr represents React's `lazy` function. It can be:
- Called at Python definition time: `lazy(factory)` → `Jsx(Constant(...))`
- Used as a reference in `@javascript`: `some_fn(lazy)` → `some_fn(lazy)`
- Called inside `@javascript`: `lazy(factory)` → creates `Constant+Jsx`

Usage:

```python
# At definition time (Python executes this)
LazyChart = lazy(Import("Chart", "./Chart", lazy=True))

# As reference in transpiled code
@javascript
def foo():
    return higher_order_fn(lazy)  # → higher_order_fn(lazy)

# Called in transpiled code
@javascript
def bar():
    LazyComp = lazy(factory)  # → const LazyComp_1 = lazy(factory)
    return LazyComp()
```

## Attributes

<PyAttribute name={"__slots__"} type={"tuple[str, ...]"} value={"('_lazy_import',)"} />

## Functions

<PyFunction name={"__init__"} type={"(self) -> None"}>

<PySourceCode >

```python
def __init__(self) -> None:
	# Defer Import creation to avoid polluting global import registry at module load
	self._lazy_import = None
```

</PySourceCode>

<div >

<PyParameter name={"self"} type={null} value={null} />

</div>

<PyFunctionReturn type={"None"} />

</PyFunction>

<PyFunction name={"_create_lazy_component"} type={"(self, factory) -> _Jsx"}>

Create a lazy-loaded component from a factory expression.

<PySourceCode >

```python
def _create_lazy_component(self, factory: _Expr) -> _Jsx:
	"""Create a lazy-loaded component from a factory expression.

	Args:
		factory: An Expr that evaluates to a dynamic import factory

	Returns:
		A Jsx-wrapped lazy component
	"""
	lazy_call = _Call(self._import, [factory])
	const = _Constant(lazy_call, lazy_call)
	return _Jsx(const)
```

</PySourceCode>

<div >

<PyParameter name={"self"} type={null} value={null} />
<PyParameter name={"factory"} type={"_Expr"} value={undefined}>

An Expr that evaluates to a dynamic import factory

</PyParameter>

</div>

<PyFunctionReturn type={"pulse.transpiler.nodes.Jsx"}>

A Jsx-wrapped lazy component

</PyFunctionReturn>

</PyFunction>

<PyFunction name={"emit"} type={"(self, out) -> None"}>

Emit as reference to the lazy import.

<PySourceCode >

```python
@_override
def emit(self, out: list[str]) -> None:
	"""Emit as reference to the lazy import."""
	self._import.emit(out)
```

</PySourceCode>

<div >

<PyParameter name={"self"} type={null} value={null} />
<PyParameter name={"out"} type={"list[str]"} value={null} />

</div>

<PyFunctionReturn type={"None"} />

</PyFunction>

<PyFunction name={"render"} type={"(self) -> _VDOMNode"}>

<PySourceCode >

```python
@_override
def render(self) -> _VDOMNode:
	raise TypeError("lazy cannot be rendered to VDOM")
```

</PySourceCode>

<div >

<PyParameter name={"self"} type={null} value={null} />

</div>

<PyFunctionReturn type={"pulse.transpiler.vdom.VDOMNode"} />

</PyFunction>

<PyFunction name={"transpile_call"} type={"(self, args, keywords, ctx) -> _Expr"}>

Handle lazy(factory) calls in @javascript functions.

<PySourceCode >

```python
@_override
def transpile_call(
	self,
	args: list[_ast.expr],
	keywords: list[_ast.keyword],
	ctx: "_Transpiler",
) -> _Expr:
	"""Handle lazy(factory) calls in @javascript functions."""
	if keywords:
		raise _TranspileError("lazy() does not accept keyword arguments")
	if len(args) != 1:
		raise _TranspileError("lazy() takes exactly 1 argument")

	factory = ctx.emit_expr(args[0])
	return self._create_lazy_component(factory)
```

</PySourceCode>

<div >

<PyParameter name={"self"} type={null} value={null} />
<PyParameter name={"args"} type={"list[_ast.expr]"} value={null} />
<PyParameter name={"keywords"} type={"list[_ast.keyword]"} value={null} />
<PyParameter name={"ctx"} type={"_Transpiler"} value={null} />

</div>

<PyFunctionReturn type={"pulse.transpiler.nodes.Expr"} />

</PyFunction>

<PyFunction name={"__call__"} type={"(self, factory) -> _Jsx"}>

Python-time call: create a lazy-loaded component.

<PySourceCode >

```python
@_override
def __call__(self, factory: _Import) -> _Jsx:  # pyright: ignore[reportIncompatibleMethodOverride]
	"""Python-time call: create a lazy-loaded component.

	Args:
		factory: An Import with lazy=True that generates a dynamic import factory

	Returns:
		A Jsx-wrapped lazy component that can be used as LazyChart(props)[children]
	"""
	return self._create_lazy_component(factory)
```

</PySourceCode>

<div >

<PyParameter name={"self"} type={null} value={null} />
<PyParameter name={"factory"} type={"_Import"} value={undefined}>

An Import with lazy=True that generates a dynamic import factory

</PyParameter>

</div>

<PyFunctionReturn type={"pulse.transpiler.nodes.Jsx"}>

A Jsx-wrapped lazy component that can be used as LazyChart(props)[children]

</PyFunctionReturn>

</PyFunction>