---
title: DictMethods
---

Dict (Map) method transpilation.

## Functions

<PyFunction name={"__runtime_check__"} type={"(cls, expr) -> Expr"}>

<PySourceCode >

```python
@classmethod
@override
def __runtime_check__(cls, expr: Expr) -> Expr:
	return Binary(expr, "instanceof", Identifier("Map"))
```

</PySourceCode>

<div >

<PyParameter name={"cls"} type={null} value={null} />
<PyParameter name={"expr"} type={"Expr"} value={null} />

</div>

<PyFunctionReturn type={"pulse.transpiler.nodes.Expr"} />

</PyFunction>

<PyFunction name={"__methods__"} type={"(cls) -> set[str]"}>

<PySourceCode >

```python
@classmethod
@override
def __methods__(cls) -> set[str]:
	return DICT_METHODS
```

</PySourceCode>

<div >

<PyParameter name={"cls"} type={null} value={null} />

</div>

<PyFunctionReturn type={"set[str]"} />

</PyFunction>

<PyFunction name={"get"} type={"(self, key, default=None) -> Expr | None"}>

dict.get(key, default) -> dict.get(key) ?? default

<PySourceCode >

```python
def get(self, key: Expr, default: Expr | None = None) -> Expr | None:
	"""dict.get(key, default) -> dict.get(key) ?? default"""
	if default is None:
		return None  # Fall through to default .get()
	return Binary(Call(Member(self.this, "get"), [key]), "??", default)
```

</PySourceCode>

<div >

<PyParameter name={"self"} type={null} value={null} />
<PyParameter name={"key"} type={"Expr"} value={null} />
<PyParameter name={"default"} type={"Expr | None"} value={"None"} />

</div>

<PyFunctionReturn type={"pulse.transpiler.nodes.Expr | None"} />

</PyFunction>

<PyFunction name={"keys"} type={"(self) -> Expr"}>

dict.keys() -> [...dict.keys()]

<PySourceCode >

```python
def keys(self) -> Expr:
	"""dict.keys() -> [...dict.keys()]"""
	return Array([Spread(Call(Member(self.this, "keys"), []))])
```

</PySourceCode>

<div >

<PyParameter name={"self"} type={null} value={null} />

</div>

<PyFunctionReturn type={"pulse.transpiler.nodes.Expr"} />

</PyFunction>

<PyFunction name={"values"} type={"(self) -> Expr"}>

dict.values() -> [...dict.values()]

<PySourceCode >

```python
def values(self) -> Expr:
	"""dict.values() -> [...dict.values()]"""
	return Array([Spread(Call(Member(self.this, "values"), []))])
```

</PySourceCode>

<div >

<PyParameter name={"self"} type={null} value={null} />

</div>

<PyFunctionReturn type={"pulse.transpiler.nodes.Expr"} />

</PyFunction>

<PyFunction name={"items"} type={"(self) -> Expr"}>

dict.items() -> [...dict.entries()]

<PySourceCode >

```python
def items(self) -> Expr:
	"""dict.items() -> [...dict.entries()]"""
	return Array([Spread(Call(Member(self.this, "entries"), []))])
```

</PySourceCode>

<div >

<PyParameter name={"self"} type={null} value={null} />

</div>

<PyFunctionReturn type={"pulse.transpiler.nodes.Expr"} />

</PyFunction>

<PyFunction name={"copy"} type={"(self) -> Expr"}>

dict.copy() -> new Map(dict.entries())

<PySourceCode >

```python
def copy(self) -> Expr:
	"""dict.copy() -> new Map(dict.entries())"""
	return New(Identifier("Map"), [Call(Member(self.this, "entries"), [])])
```

</PySourceCode>

<div >

<PyParameter name={"self"} type={null} value={null} />

</div>

<PyFunctionReturn type={"pulse.transpiler.nodes.Expr"} />

</PyFunction>

<PyFunction name={"clear"} type={"(self) -> Expr | None"}>

dict.clear() doesn't need transformation.

<PySourceCode >

```python
def clear(self) -> Expr | None:
	"""dict.clear() doesn't need transformation."""
	return None
```

</PySourceCode>

<div >

<PyParameter name={"self"} type={null} value={null} />

</div>

<PyFunctionReturn type={"pulse.transpiler.nodes.Expr | None"} />

</PyFunction>

<PyFunction name={"pop"} type={"(self, key, default=None) -> Expr"}>

dict.pop(key, default) -> complex expression to get and delete

<PySourceCode >

```python
def pop(self, key: Expr, default: Expr | None = None) -> Expr:
	"""dict.pop(key, default) -> complex expression to get and delete"""
	# (v => (dict.delete(key), v))(dict.get(key) ?? default)
	get_val = Call(Member(self.this, "get"), [key])
	if default is not None:
		get_val = Binary(get_val, "??", default)
	delete_call = Call(Member(self.this, "delete"), [key])
	return Call(
		Arrow(
			["$v"], Subscript(Array([delete_call, Identifier("$v")]), Literal(1))
		),
		[get_val],
	)
```

</PySourceCode>

<div >

<PyParameter name={"self"} type={null} value={null} />
<PyParameter name={"key"} type={"Expr"} value={null} />
<PyParameter name={"default"} type={"Expr | None"} value={"None"} />

</div>

<PyFunctionReturn type={"pulse.transpiler.nodes.Expr"} />

</PyFunction>

<PyFunction name={"update"} type={"(self, other) -> Expr"}>

dict.update(other) -> other.forEach((v, k) => dict.set(k, v))

<PySourceCode >

```python
def update(self, other: Expr) -> Expr:
	"""dict.update(other) -> other.forEach((v, k) => dict.set(k, v))"""
	return Call(
		Member(other, "forEach"),
		[
			Arrow(
				["$v", "$k"],
				Call(
					Member(self.this, "set"), [Identifier("$k"), Identifier("$v")]
				),
			)
		],
	)
```

</PySourceCode>

<div >

<PyParameter name={"self"} type={null} value={null} />
<PyParameter name={"other"} type={"Expr"} value={null} />

</div>

<PyFunctionReturn type={"pulse.transpiler.nodes.Expr"} />

</PyFunction>

<PyFunction name={"setdefault"} type={"(self, key, default=None) -> Expr"}>

dict.setdefault(key, default) -> dict.has(key) ? dict.get(key) : (dict.set(key, default), default)[1]

<PySourceCode >

```python
def setdefault(self, key: Expr, default: Expr | None = None) -> Expr:
	"""dict.setdefault(key, default) -> dict.has(key) ? dict.get(key) : (dict.set(key, default), default)[1]"""
	default_val = default if default is not None else Literal(None)
	return Ternary(
		Call(Member(self.this, "has"), [key]),
		Call(Member(self.this, "get"), [key]),
		Subscript(
			Array(
				[Call(Member(self.this, "set"), [key, default_val]), default_val]
			),
			Literal(1),
		),
	)
```

</PySourceCode>

<div >

<PyParameter name={"self"} type={null} value={null} />
<PyParameter name={"key"} type={"Expr"} value={null} />
<PyParameter name={"default"} type={"Expr | None"} value={"None"} />

</div>

<PyFunctionReturn type={"pulse.transpiler.nodes.Expr"} />

</PyFunction>