---
title: ListMethods
---

List method transpilation.

## Functions

<PyFunction name={"__runtime_check__"} type={"(cls, expr) -> Expr"}>

<PySourceCode >

```python
@classmethod
@override
def __runtime_check__(cls, expr: Expr) -> Expr:
	return Call(Member(Identifier("Array"), "isArray"), [expr])
```

</PySourceCode>

<div >

<PyParameter name={"cls"} type={null} value={null} />
<PyParameter name={"expr"} type={"Expr"} value={null} />

</div>

<PyFunctionReturn type={"pulse.transpiler.nodes.Expr"} />

</PyFunction>

<PyFunction name={"__methods__"} type={"(cls) -> set[str]"}>

<PySourceCode >

```python
@classmethod
@override
def __methods__(cls) -> set[str]:
	return LIST_METHODS
```

</PySourceCode>

<div >

<PyParameter name={"cls"} type={null} value={null} />

</div>

<PyFunctionReturn type={"set[str]"} />

</PyFunction>

<PyFunction name={"append"} type={"(self, value) -> Expr"}>

list.append(value) -> (list.push(value), undefined)[1]

<PySourceCode >

```python
def append(self, value: Expr) -> Expr:
	"""list.append(value) -> (list.push(value), undefined)[1]"""
	# Returns undefined to match Python's None return
	return Subscript(
		Array([Call(Member(self.this, "push"), [value]), Undefined()]),
		Literal(1),
	)
```

</PySourceCode>

<div >

<PyParameter name={"self"} type={null} value={null} />
<PyParameter name={"value"} type={"Expr"} value={null} />

</div>

<PyFunctionReturn type={"pulse.transpiler.nodes.Expr"} />

</PyFunction>

<PyFunction name={"extend"} type={"(self, iterable) -> Expr"}>

list.extend(iterable) -> (list.push(...iterable), undefined)[1]

<PySourceCode >

```python
def extend(self, iterable: Expr) -> Expr:
	"""list.extend(iterable) -> (list.push(...iterable), undefined)[1]"""
	return Subscript(
		Array([Call(Member(self.this, "push"), [Spread(iterable)]), Undefined()]),
		Literal(1),
	)
```

</PySourceCode>

<div >

<PyParameter name={"self"} type={null} value={null} />
<PyParameter name={"iterable"} type={"Expr"} value={null} />

</div>

<PyFunctionReturn type={"pulse.transpiler.nodes.Expr"} />

</PyFunction>

<PyFunction name={"pop"} type={"(self, index=None) -> Expr | None"}>

list.pop() or list.pop(index)

<PySourceCode >

```python
def pop(self, index: Expr | None = None) -> Expr | None:
	"""list.pop() or list.pop(index)"""
	if index is None:
		return None  # Fall through to default .pop()
	return Subscript(
		Call(Member(self.this, "splice"), [index, Literal(1)]), Literal(0)
	)
```

</PySourceCode>

<div >

<PyParameter name={"self"} type={null} value={null} />
<PyParameter name={"index"} type={"Expr | None"} value={"None"} />

</div>

<PyFunctionReturn type={"pulse.transpiler.nodes.Expr | None"} />

</PyFunction>

<PyFunction name={"copy"} type={"(self) -> Expr"}>

list.copy() -> list.slice()

<PySourceCode >

```python
def copy(self) -> Expr:
	"""list.copy() -> list.slice()"""
	return Call(Member(self.this, "slice"), [])
```

</PySourceCode>

<div >

<PyParameter name={"self"} type={null} value={null} />

</div>

<PyFunctionReturn type={"pulse.transpiler.nodes.Expr"} />

</PyFunction>

<PyFunction name={"count"} type={"(self, value) -> Expr"}>

list.count(value) -> list.filter(v => v === value).length

<PySourceCode >

```python
def count(self, value: Expr) -> Expr:
	"""list.count(value) -> list.filter(v => v === value).length"""
	return Member(
		Call(
			Member(self.this, "filter"),
			[Arrow(["v"], Binary(Identifier("v"), "===", value))],
		),
		"length",
	)
```

</PySourceCode>

<div >

<PyParameter name={"self"} type={null} value={null} />
<PyParameter name={"value"} type={"Expr"} value={null} />

</div>

<PyFunctionReturn type={"pulse.transpiler.nodes.Expr"} />

</PyFunction>

<PyFunction name={"index"} type={"(self, value) -> Expr"}>

list.index(value) -> list.indexOf(value)

<PySourceCode >

```python
def index(self, value: Expr) -> Expr:
	"""list.index(value) -> list.indexOf(value)"""
	return Call(Member(self.this, "indexOf"), [value])
```

</PySourceCode>

<div >

<PyParameter name={"self"} type={null} value={null} />
<PyParameter name={"value"} type={"Expr"} value={null} />

</div>

<PyFunctionReturn type={"pulse.transpiler.nodes.Expr"} />

</PyFunction>

<PyFunction name={"reverse"} type={"(self) -> Expr"}>

list.reverse() -> (list.reverse(), undefined)[1]

<PySourceCode >

```python
def reverse(self) -> Expr:
	"""list.reverse() -> (list.reverse(), undefined)[1]"""
	return Subscript(
		Array([Call(Member(self.this, "reverse"), []), Undefined()]),
		Literal(1),
	)
```

</PySourceCode>

<div >

<PyParameter name={"self"} type={null} value={null} />

</div>

<PyFunctionReturn type={"pulse.transpiler.nodes.Expr"} />

</PyFunction>

<PyFunction name={"sort"} type={"(self) -> Expr"}>

list.sort() -> (list.sort(), undefined)[1]

<PySourceCode >

```python
def sort(self) -> Expr:
	"""list.sort() -> (list.sort(), undefined)[1]"""
	return Subscript(
		Array([Call(Member(self.this, "sort"), []), Undefined()]),
		Literal(1),
	)
```

</PySourceCode>

<div >

<PyParameter name={"self"} type={null} value={null} />

</div>

<PyFunctionReturn type={"pulse.transpiler.nodes.Expr"} />

</PyFunction>

<PyFunction name={"clear"} type={"(self) -> Expr"}>

list.clear() -> (list.length = 0, undefined)[1]

<PySourceCode >

```python
def clear(self) -> Expr:
	"""list.clear() -> (list.length = 0, undefined)[1]"""
	# Setting length to 0 clears the array
	return Subscript(
		Array([Binary(Member(self.this, "length"), "=", Literal(0)), Undefined()]),
		Literal(1),
	)
```

</PySourceCode>

<div >

<PyParameter name={"self"} type={null} value={null} />

</div>

<PyFunctionReturn type={"pulse.transpiler.nodes.Expr"} />

</PyFunction>

<PyFunction name={"insert"} type={"(self, index, value) -> Expr"}>

list.insert(index, value) -> (list.splice(index, 0, value), undefined)[1]

<PySourceCode >

```python
def insert(self, index: Expr, value: Expr) -> Expr:
	"""list.insert(index, value) -> (list.splice(index, 0, value), undefined)[1]"""
	return Subscript(
		Array(
			[
				Call(Member(self.this, "splice"), [index, Literal(0), value]),
				Undefined(),
			]
		),
		Literal(1),
	)
```

</PySourceCode>

<div >

<PyParameter name={"self"} type={null} value={null} />
<PyParameter name={"index"} type={"Expr"} value={null} />
<PyParameter name={"value"} type={"Expr"} value={null} />

</div>

<PyFunctionReturn type={"pulse.transpiler.nodes.Expr"} />

</PyFunction>

<PyFunction name={"remove"} type={"(self, value) -> Expr"}>

list.remove(value) -> safe removal with error on not found.

Python raises ValueError if value not in list. We generate:
(($i) => $i \< 0 ? (() => \{ throw new Error(...) \})() : list.splice($i, 1))(list.indexOf(value))

<PySourceCode >

```python
def remove(self, value: Expr) -> Expr:
	"""list.remove(value) -> safe removal with error on not found.

	Python raises ValueError if value not in list. We generate:
	(($i) => $i < 0 ? (() => { throw new Error(...) })() : list.splice($i, 1))(list.indexOf(value))
	"""
	idx = Identifier("$i")
	index_call = Call(Member(self.this, "indexOf"), [value])
	# IIFE that throws using Arrow with statement body
	throw_iife = Call(
		Arrow(
			[],
			[
				Throw(
					New(
						Identifier("Error"),
						[Literal("list.remove(x): x not in list")],
					)
				)
			],
		),
		[],
	)
	safe_splice = Ternary(
		Binary(idx, "<", Literal(0)),
		throw_iife,
		Call(Member(self.this, "splice"), [idx, Literal(1)]),
	)
	return Call(Arrow(["$i"], safe_splice), [index_call])
```

</PySourceCode>

<div >

<PyParameter name={"self"} type={null} value={null} />
<PyParameter name={"value"} type={"Expr"} value={null} />

</div>

<PyFunctionReturn type={"pulse.transpiler.nodes.Expr"} />

</PyFunction>