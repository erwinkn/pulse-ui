@import 'tailwindcss';
@import 'fumadocs-ui/css/black.css';
@import 'fumadocs-ui/css/preset.css';
@import 'fumadocs-python/preset.css';

@theme {
  --color-pulse-marine: hsl(208, 85%, 55%);

  --color-fd-background: hsl(0, 0%, 99%);
  --color-fd-foreground: hsl(0, 0%, 10%);
  --color-fd-muted: hsl(0, 0%, 96%);
  --color-fd-muted-foreground: hsl(0, 0%, 42%);
  --color-fd-popover: hsl(0, 0%, 98%);
  --color-fd-popover-foreground: hsl(0, 0%, 12%);
  --color-fd-card: hsl(0, 0%, 98%);
  --color-fd-card-foreground: hsl(0, 0%, 12%);
  --color-fd-border: hsla(0, 0%, 50%, 0.2);
  --color-fd-primary: hsl(208, 75%, 42%);
  --color-fd-primary-foreground: hsl(0, 0%, 100%);
  --color-fd-secondary: hsl(0, 0%, 94%);
  --color-fd-secondary-foreground: hsl(0, 0%, 14%);
  --color-fd-accent: hsl(0, 0%, 92%);
  --color-fd-accent-foreground: hsl(0, 0%, 12%);
  --color-fd-ring: hsl(208, 75%, 55%);
}

.dark {
  --color-pulse-marine: hsl(208, 90%, 62%);

  --color-fd-background: hsl(0, 0%, 6%);
  --color-fd-foreground: hsl(0, 0%, 92%);
  --color-fd-muted: hsl(0, 0%, 11%);
  --color-fd-muted-foreground: hsl(0, 0%, 65%);
  --color-fd-popover: hsl(0, 0%, 9%);
  --color-fd-popover-foreground: hsl(0, 0%, 92%);
  --color-fd-card: hsl(0, 0%, 9%);
  --color-fd-card-foreground: hsl(0, 0%, 92%);
  --color-fd-border: hsla(0, 0%, 60%, 0.18);
  --color-fd-primary: hsl(208, 90%, 62%);
  --color-fd-primary-foreground: hsl(220, 20%, 8%);
  --color-fd-secondary: hsl(0, 0%, 12%);
  --color-fd-secondary-foreground: hsl(0, 0%, 92%);
  --color-fd-accent: hsl(0, 0%, 14%);
  --color-fd-accent-foreground: hsl(0, 0%, 92%);
  --color-fd-ring: hsl(208, 90%, 60%);
}

@keyframes toc-glow {
  0% {
    background-position: 0 0%;
  }
  100% {
    background-position: 0 200%;
  }
}

@layer utilities {
  #nd-sidebar a svg {
    color: currentColor;
  }

  #nd-sidebar a[data-active="true"] {
    color: var(--color-pulse-marine) !important;
    background-color: hsl(0, 0%, 0%, 0.05) !important;
    box-shadow: none !important;
    font-weight: 500;
  }

  .dark #nd-sidebar a[data-active="true"] {
    background-color: hsl(0, 0%, 100%, 0.05) !important;
  }

  @media (min-width: 768px) {
    #nd-sidebar button[aria-expanded] > div.shrink-0,
    [data-radix-popper-content-wrapper] a > div.shrink-0 {
      width: 24px !important;
      height: 24px !important;
    }
  }

  #nd-toc a {
    color: var(--color-fd-muted-foreground) !important;
  }

  #nd-toc a:hover {
    color: var(--color-fd-foreground) !important;
  }

  #nd-toc a[data-active="true"] {
    color: var(--color-pulse-marine) !important;
  }

  #nd-toc a[data-active="true"] ~ a[data-active="true"] {
    color: var(--color-fd-muted-foreground) !important;
  }

  #nd-toc #toc-title {
    color: var(--color-fd-muted-foreground) !important;
  }

  #nd-toc #toc-title svg {
    color: currentColor;
  }

  #nd-toc [style*="mask-image"] {
    background: hsla(0, 0%, 0%, 0.12);
  }

  .dark #nd-toc [style*="mask-image"] {
    background: hsla(0, 0%, 100%, 0.12);
  }

  #nd-toc [style*="--fd-top"] {
    background: linear-gradient(
      180deg,
      hsla(208, 90%, 70%, 0.95),
      hsla(208, 90%, 60%, 0.95),
      hsla(208, 90%, 70%, 0.95)
    ) !important;
    background-size: 100% 200%;
    animation: toc-glow 6s linear infinite;
    box-shadow: 0 0 10px hsla(208, 90%, 62%, 0.45);
    border-radius: 999px;
    transition-timing-function: cubic-bezier(0.2, 0, 0.2, 1);
  }

  .prose a {
    color: var(--color-fd-foreground);
    text-decoration: underline;
    text-decoration-color: hsla(208, 90%, 62%, 0.35);
    text-underline-offset: 0.2em;
  }

  .prose a:hover,
  .prose a:focus-visible {
    color: var(--color-pulse-marine);
    text-decoration-color: var(--color-pulse-marine);
  }
}
