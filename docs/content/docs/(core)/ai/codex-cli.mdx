---
title: "Codex CLI"
---

Codex CLI is OpenAI's terminal-based coding agent. It reads repository context from `AGENTS.md` files and can execute shell commands to validate changes.

## Setup

1. Install Codex CLI:
```bash
npm install -g @openai/codex
```

2. Create an `AGENTS.md` file at your repository root:

```markdown
# Pulse App

Full-stack Python framework app with React frontend.

## Commands

```bash
uv run pulse run app.py   # Start dev server
make all                   # Format, lint, typecheck, test
uv sync                    # Install Python deps
cd web && bun i           # Install JS deps
```

## Key APIs

- `ps.App(routes=[...])` - Define application with routes
- `ps.Route("/path", component)` - Map URL to component
- `ps.State` - Base class for reactive state
- `@ps.component` - Decorator for components
- `ps.init()` - Preserve variables across renders
- `ps.setup(fn)` - Run function once on first render
- `@ps.query` - Async data fetching decorator
- `@ps.computed` - Cached computed property

## Patterns

State with methods:
```python
class CounterState(ps.State):
    count: int = 0

    def increment(self):
        self.count += 1
```

Component with state:
```python
@ps.component
def Counter():
    with ps.init():
        state = CounterState()
    return ps.button(f"Count: {state.count}", onClick=state.increment)
```
```

## Configuration

Codex CLI uses `codex.json` for project settings:

```json
{
  "model": "o3-mini",
  "approval_mode": "suggest",
  "providers": ["openai"]
}
```

## Workflows

### Generate a Component

```text
Create a Pulse component for a settings panel with:
- Dark mode toggle
- Language selector dropdown
- Save button that persists to state
Use SettingsState class for the data.
```

### Refactor Existing Code

```text
Refactor the user dashboard to use @ps.query for data fetching
instead of manual async effects. Keep the same UI.
```

### Debug an Issue

```text
The form isn't submitting. Check the event handler and state updates.
Run the app to test after fixing.
```

## Tips

- **Search first**: Codex uses `rg` (ripgrep) for fast code search. Ask it to find patterns before editing.
- **Incremental changes**: Request changes in small steps for better accuracy.
- **Validation**: End sessions with "run make all and fix any errors".
- **Context**: Include relevant file paths when asking about specific code.

## Example Prompts

```text
# New feature
Add pagination to the users list. Use ps.query with page parameter.

# Bug fix
The modal doesn't close after form submission. Trace the onSubmit handler.

# Refactoring
Extract the table component into a reusable TableState + Table component.
```
