---
title: "HooksAPI"
---

Low-level API for creating custom hooks.

Access via ``ps.hooks``. Provides methods for registering, listing,
and managing hooks.

## Attributes

<PyAttribute name={"__slots__"} type={null} value={"()"} />

<PyAttribute name={"State"} type={"type[HookState]"} value={"HookState"}>

Alias for HookState base class.

</PyAttribute>

<PyAttribute name={"Metadata"} type={"type[HookMetadata]"} value={"HookMetadata"}>

Alias for HookMetadata dataclass.

</PyAttribute>

<PyAttribute name={"AlreadyRegisteredError"} type={"type[HookAlreadyRegisteredError]"} value={"HookAlreadyRegisteredError"}>

Exception for duplicate hook registration.

</PyAttribute>

<PyAttribute name={"NotFoundError"} type={"type[HookNotFoundError]"} value={"HookNotFoundError"}>

Exception for missing hook lookup.

</PyAttribute>

<PyAttribute name={"RenameCollisionError"} type={"type[HookRenameCollisionError]"} value={"HookRenameCollisionError"}>

Exception for hook rename conflicts.

</PyAttribute>

## Functions

<PyFunction name={"create"} type={"(self, name, factory=_default_factory, *, metadata=None)"}>

Register a new hook.

<Callout title={"Example"} type={"example"}>

>>> class TimerHookState(ps.hooks.State):
...     def __init__(self):
...         self.start_time = time.time()
...
...     def elapsed(self) -> float:
...         return time.time() - self.start_time
...
...     def dispose(self) -> None:
...         pass
...
>>> _timer_hook = ps.hooks.create("my_app:timer", lambda: TimerHookState())
...
>>> def use_timer() -> TimerHookState:
...     return _timer_hook()

</Callout>

<PySourceCode >

```python
def create(
	self,
	name: str,
	factory: HookFactory[T] = _default_factory,
	*,
	metadata: HookMetadata | None = None,
):
	"""Register a new hook.

	Args:
		name: Unique name for the hook (e.g., "my_app:timer").
		factory: Function that creates HookState instances. Can be a
			zero-argument callable or accept a HookInit object.
		metadata: Optional metadata describing the hook.

	Returns:
		Hook[T]: The registered hook, callable during component render.

	Raises:
		ValueError: If name is empty.
		HookAlreadyRegisteredError: If a hook with this name already exists.
		HookError: If the registry is locked.

	Example:
		>>> class TimerHookState(ps.hooks.State):
		...     def __init__(self):
		...         self.start_time = time.time()
		...
		...     def elapsed(self) -> float:
		...         return time.time() - self.start_time
		...
		...     def dispose(self) -> None:
		...         pass
		...
		>>> _timer_hook = ps.hooks.create("my_app:timer", lambda: TimerHookState())
		...
		>>> def use_timer() -> TimerHookState:
		...     return _timer_hook()
	"""
	return HOOK_REGISTRY.create(name, factory, metadata)
```

</PySourceCode>

<div >

<PyParameter name={"self"} type={null} value={null} />
<PyParameter name={"name"} type={"str"} value={undefined}>

Unique name for the hook (e.g., "my_app:timer").

</PyParameter>
<PyParameter name={"factory"} type={"HookFactory[T]"} value={"_default_factory"}>

Function that creates HookState instances. Can be a
zero-argument callable or accept a HookInit object.

</PyParameter>
<PyParameter name={"metadata"} type={"HookMetadata | None"} value={"None"}>

Optional metadata describing the hook.

</PyParameter>

</div>

<PyFunctionReturn type={null}>

Hook[T]: The registered hook, callable during component render.

</PyFunctionReturn>

</PyFunction>

<PyFunction name={"rename"} type={"(self, current, new) -> None"}>

<PySourceCode >

```python
def rename(self, current: str, new: str) -> None:
	HOOK_REGISTRY.rename(current, new)
```

</PySourceCode>

<div >

<PyParameter name={"self"} type={null} value={null} />
<PyParameter name={"current"} type={"str"} value={null} />
<PyParameter name={"new"} type={"str"} value={null} />

</div>

<PyFunctionReturn type={"None"} />

</PyFunction>

<PyFunction name={"list"} type={"(self) -> list[str]"}>

<PySourceCode >

```python
def list(self) -> list[str]:
	return HOOK_REGISTRY.list()
```

</PySourceCode>

<div >

<PyParameter name={"self"} type={null} value={null} />

</div>

<PyFunctionReturn type={"pulse.hooks.core.HooksAPI.list[str]"} />

</PyFunction>

<PyFunction name={"describe"} type={"(self, name) -> HookMetadata"}>

<PySourceCode >

```python
def describe(self, name: str) -> HookMetadata:
	return HOOK_REGISTRY.describe(name)
```

</PySourceCode>

<div >

<PyParameter name={"self"} type={null} value={null} />
<PyParameter name={"name"} type={"str"} value={null} />

</div>

<PyFunctionReturn type={"pulse.hooks.core.HookMetadata"} />

</PyFunction>

<PyFunction name={"registry"} type={"(self) -> HookRegistry"}>

<PySourceCode >

```python
def registry(self) -> HookRegistry:
	return HOOK_REGISTRY
```

</PySourceCode>

<div >

<PyParameter name={"self"} type={null} value={null} />

</div>

<PyFunctionReturn type={"pulse.hooks.core.HookRegistry"} />

</PyFunction>

<PyFunction name={"lock"} type={"(self) -> None"}>

<PySourceCode >

```python
def lock(self) -> None:
	HOOK_REGISTRY.lock()
```

</PySourceCode>

<div >

<PyParameter name={"self"} type={null} value={null} />

</div>

<PyFunctionReturn type={"None"} />

</PyFunction>