---
title: "common"
---

<PyAttribute name={"T"} type={null} value={"TypeVar('T')"} />

<PyAttribute name={"TState"} type={null} value={"TypeVar('TState', bound='State')"} />

<PyAttribute name={"P"} type={null} value={"ParamSpec('P')"} />

<PyAttribute name={"R"} type={null} value={"TypeVar('R')"} />

<PyAttribute name={"QueryKey"} type={"TypeAlias"} value={"tuple[Hashable, ...]"}>

Tuple of hashable values identifying a query in the store.

Used to uniquely identify queries for caching, deduplication, and invalidation.
Keys are hierarchical tuples like ``("user", user_id)`` or ``("posts", "feed")``.

</PyAttribute>

<PyAttribute name={"QueryStatus"} type={"TypeAlias"} value={"Literal['loading', 'success', 'error']"}>

Current status of a query.

Values:
    - ``"loading"``: Query is fetching data (initial load or refetch).
    - ``"success"``: Query has successfully fetched data.
    - ``"error"``: Query encountered an error during fetch.

</PyAttribute>

<PyAttribute name={"ActionResult"} type={"TypeAlias"} value={"ActionSuccess[T] | ActionError"}>

Union type for query action results.

Either ``ActionSuccess[T]`` with data or ``ActionError`` with an exception.
Use the ``status`` field to discriminate between success and error cases.

</PyAttribute>

<PyAttribute name={"OnSuccessFn"} type={null} value={"Callable[[TState], Any] | Callable[[TState, T], Any]"} />

<PyAttribute name={"OnErrorFn"} type={null} value={"Callable[[TState], Any] | Callable[[TState, Exception], Any]"} />

<Tabs items={["Class","Functions"]}>

<Tab value={"Class"}>

<Cards >

<Card title={"ActionSuccess"} href={"/docs/api/pulse/queries/common/ActionSuccess"} />
<Card title={"ActionError"} href={"/docs/api/pulse/queries/common/ActionError"} />

</Cards>

</Tab>
<Tab value={"Functions"}>

<PyFunction name={"bind_state"} type={"(state, fn) -> Callable[P, R]"}>

Type-safe helper to bind a method to a state

<PySourceCode >

```python
def bind_state(
	state: TState, fn: Callable[Concatenate[TState, P], R]
) -> Callable[P, R]:
	"Type-safe helper to bind a method to a state"
	return fn.__get__(state, state.__class__)
```

</PySourceCode>

<div >

<PyParameter name={"state"} type={"TState"} value={null} />
<PyParameter name={"fn"} type={"Callable[Concatenate[TState, P], R]"} value={null} />

</div>

<PyFunctionReturn type={"collections.abc.Callable[pulse.queries.common.P, pulse.queries.common.R]"} />

</PyFunction>

</Tab>

</Tabs>