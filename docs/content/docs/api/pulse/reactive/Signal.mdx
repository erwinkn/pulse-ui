---
title: "Signal"
---

A reactive value container.

Reading registers a dependency; writing notifies observers.

## Attributes

<PyAttribute name={"value"} type={"T"} value={"value"}>

Current value (direct access, no tracking).

</PyAttribute>

<PyAttribute name={"name"} type={"str | None"} value={"name"}>

Debug name.

</PyAttribute>

<PyAttribute name={"last_change"} type={"int"} value={"-1"}>

Epoch when last changed.

</PyAttribute>

<PyAttribute name={"obs"} type={"list[Computed[Any] | Effect]"} value={"[]"} />

<PyAttribute name={"_obs_change_listeners"} type={"list[Callable[[int], None]]"} value={"[]"} />

## Functions

<PyFunction name={"__init__"} type={"(self, value, name=None)"}>

<PySourceCode >

```python
def __init__(self, value: T, name: str | None = None):
	self.value = value
	self.name = name
	self.obs: list[Computed[Any] | Effect] = []
	self._obs_change_listeners: list[Callable[[int], None]] = []
	self.last_change = -1
```

</PySourceCode>

<div >

<PyParameter name={"self"} type={null} value={null} />
<PyParameter name={"value"} type={"T"} value={null} />
<PyParameter name={"name"} type={"str | None"} value={"None"} />

</div>

<PyFunctionReturn type={null} />

</PyFunction>

<PyFunction name={"read"} type={"(self) -> T"}>

Read the value, registering a dependency in the current scope.

<PySourceCode >

```python
def read(self) -> T:
	"""Read the value, registering a dependency in the current scope.

	Returns:
		The current value.
	"""
	rc = REACTIVE_CONTEXT.get()
	if rc.scope is not None:
		rc.scope.register_dep(self)
	return self.value
```

</PySourceCode>

<div >

<PyParameter name={"self"} type={null} value={null} />

</div>

<PyFunctionReturn type={"pulse.reactive.T"}>

The current value.

</PyFunctionReturn>

</PyFunction>

<PyFunction name={"__call__"} type={"(self) -> T"}>

Alias for read().

<PySourceCode >

```python
def __call__(self) -> T:
	"""Alias for read().

	Returns:
		The current value.
	"""
	return self.read()
```

</PySourceCode>

<div >

<PyParameter name={"self"} type={null} value={null} />

</div>

<PyFunctionReturn type={"pulse.reactive.T"}>

The current value.

</PyFunctionReturn>

</PyFunction>

<PyFunction name={"unwrap"} type={"(self) -> T"}>

Alias for read().

<PySourceCode >

```python
def unwrap(self) -> T:
	"""Alias for read().

	Returns:
		The current value while registering subscriptions.
	"""
	return self.read()
```

</PySourceCode>

<div >

<PyParameter name={"self"} type={null} value={null} />

</div>

<PyFunctionReturn type={"pulse.reactive.T"}>

The current value while registering subscriptions.

</PyFunctionReturn>

</PyFunction>

<PyFunction name={"__copy__"} type={"(self)"}>

<PySourceCode >

```python
def __copy__(self):
	return self.__class__(self.value, name=self.name)
```

</PySourceCode>

<div >

<PyParameter name={"self"} type={null} value={null} />

</div>

<PyFunctionReturn type={null} />

</PyFunction>

<PyFunction name={"__deepcopy__"} type={"(self, memo)"}>

<PySourceCode >

```python
def __deepcopy__(self, memo: dict[int, Any]):
	if id(self) in memo:
		return memo[id(self)]
	new_value = copy.deepcopy(self.value, memo)
	new_signal = self.__class__(new_value, name=self.name)
	memo[id(self)] = new_signal
	return new_signal
```

</PySourceCode>

<div >

<PyParameter name={"self"} type={null} value={null} />
<PyParameter name={"memo"} type={"dict[int, Any]"} value={null} />

</div>

<PyFunctionReturn type={null} />

</PyFunction>

<PyFunction name={"add_obs"} type={"(self, obs)"}>

<PySourceCode >

```python
def add_obs(self, obs: "Computed[Any] | Effect"):
	prev = len(self.obs)
	self.obs.append(obs)
	if prev == 0 and len(self.obs) == 1:
		for cb in list(self._obs_change_listeners):
			cb(len(self.obs))
```

</PySourceCode>

<div >

<PyParameter name={"self"} type={null} value={null} />
<PyParameter name={"obs"} type={"Computed[Any] | Effect"} value={null} />

</div>

<PyFunctionReturn type={null} />

</PyFunction>

<PyFunction name={"remove_obs"} type={"(self, obs)"}>

<PySourceCode >

```python
def remove_obs(self, obs: "Computed[Any] | Effect"):
	if obs in self.obs:
		self.obs.remove(obs)
		if len(self.obs) == 0:
			for cb in list(self._obs_change_listeners):
				cb(0)
```

</PySourceCode>

<div >

<PyParameter name={"self"} type={null} value={null} />
<PyParameter name={"obs"} type={"Computed[Any] | Effect"} value={null} />

</div>

<PyFunctionReturn type={null} />

</PyFunction>

<PyFunction name={"on_observer_change"} type={"(self, cb) -> Callable[[], None]"}>

<PySourceCode >

```python
def on_observer_change(self, cb: Callable[[int], None]) -> Callable[[], None]:
	self._obs_change_listeners.append(cb)

	def off():
		try:
			self._obs_change_listeners.remove(cb)
		except ValueError:
			pass

	return off
```

</PySourceCode>

<div >

<PyParameter name={"self"} type={null} value={null} />
<PyParameter name={"cb"} type={"Callable[[int], None]"} value={null} />

</div>

<PyFunctionReturn type={"collections.abc.Callable[[], None]"} />

</PyFunction>

<PyFunction name={"write"} type={"(self, value)"}>

Update the value and notify observers.

No-op if the new value equals the current value.

<PySourceCode >

```python
def write(self, value: T):
	"""Update the value and notify observers.

	No-op if the new value equals the current value.

	Args:
		value: The new value to set.
	"""
	if values_equal(value, self.value):
		return
	increment_epoch()
	self.value = value
	self.last_change = epoch()
	for obs in self.obs:
		obs.push_change()
```

</PySourceCode>

<div >

<PyParameter name={"self"} type={null} value={null} />
<PyParameter name={"value"} type={"T"} value={undefined}>

The new value to set.

</PyParameter>

</div>

<PyFunctionReturn type={null} />

</PyFunction>