---
title: "vdom"
---

Typed JSON VDOM format for transpiler.

This module defines the JSON-serializable format produced by the v2 renderer.

Key goals:
- The VDOM tree is rebuilt into React elements on the client.
- Any embedded expression tree is evaluated on the client.
- Only nodes representable in this JSON format are renderable.

Notes:
- This is a *wire format* (JSON). It is intentionally more restrictive than the
  Python-side node graph in `pulse.transpiler.nodes`.
- Server-side-only nodes (e.g. `PulseNode`, `Transformer`, statement nodes) must
  be rejected during rendering.

<PyAttribute name={"JsonPrimitive"} type={"TypeAlias"} value={"str | int | float | bool | None"} />

<PyAttribute name={"JsonValue"} type={"TypeAlias"} value={"JsonPrimitive | list['JsonValue'] | dict[str, 'JsonValue']"} />

<PyAttribute name={"VDOMExpr"} type={"TypeAlias"} value={"RegistryRef | IdentifierExpr | LiteralExpr | UndefinedExpr | ArrayExpr | ObjectExpr | MemberExpr | SubscriptExpr | CallExpr | UnaryExpr | BinaryExpr | TernaryExpr | TemplateExpr | ArrowExpr | NewExpr"} />

<PyAttribute name={"CallbackPlaceholder"} type={"TypeAlias"} value={"Literal['$cb']"}>

Callback placeholder value.

The callback invocation target is derived from the element path + prop name.
Because the prop name is known from `VDOMElement.eval`, the placeholder can be a
single sentinel string.

</PyAttribute>

<PyAttribute name={"VDOMPropValue"} type={"TypeAlias"} value={"'JsonValue | VDOMExpr | VDOMElement | CallbackPlaceholder'"}>

Allowed prop value types.

Hot path:
- If `VDOMElement.eval` is absent, props MUST be plain JSON (JsonValue).
- If `VDOMElement.eval` is present, only the listed prop keys may contain
  non-JSON values (VDOMExpr / VDOMElement / "$cb:...").

</PyAttribute>

<PyAttribute name={"VDOMPrimitive"} type={"TypeAlias"} value={"JsonPrimitive"} />

<PyAttribute name={"VDOMNode"} type={"TypeAlias"} value={"VDOMPrimitive | VDOMElement | VDOMExpr"} />

<PyAttribute name={"VDOM"} type={"TypeAlias"} value={"VDOMNode"} />

<PyAttribute name={"RenderPath"} type={"TypeAlias"} value={"str"} />

<PyAttribute name={"VDOMOperation"} type={"TypeAlias"} value={"ReplaceOperation | UpdatePropsOperation | ReconciliationOperation"} />

<Tabs items={["Class"]}>

<Tab value={"Class"}>

<Cards >

<Card title={"RegistryRef"} href={"/docs/api/pulse/transpiler/vdom/RegistryRef"} />
<Card title={"IdentifierExpr"} href={"/docs/api/pulse/transpiler/vdom/IdentifierExpr"} />
<Card title={"LiteralExpr"} href={"/docs/api/pulse/transpiler/vdom/LiteralExpr"} />
<Card title={"UndefinedExpr"} href={"/docs/api/pulse/transpiler/vdom/UndefinedExpr"} />
<Card title={"ArrayExpr"} href={"/docs/api/pulse/transpiler/vdom/ArrayExpr"} />
<Card title={"ObjectExpr"} href={"/docs/api/pulse/transpiler/vdom/ObjectExpr"} />
<Card title={"MemberExpr"} href={"/docs/api/pulse/transpiler/vdom/MemberExpr"} />
<Card title={"SubscriptExpr"} href={"/docs/api/pulse/transpiler/vdom/SubscriptExpr"} />
<Card title={"CallExpr"} href={"/docs/api/pulse/transpiler/vdom/CallExpr"} />
<Card title={"UnaryExpr"} href={"/docs/api/pulse/transpiler/vdom/UnaryExpr"} />
<Card title={"BinaryExpr"} href={"/docs/api/pulse/transpiler/vdom/BinaryExpr"} />
<Card title={"TernaryExpr"} href={"/docs/api/pulse/transpiler/vdom/TernaryExpr"} />
<Card title={"TemplateExpr"} href={"/docs/api/pulse/transpiler/vdom/TemplateExpr"} />
<Card title={"ArrowExpr"} href={"/docs/api/pulse/transpiler/vdom/ArrowExpr"} />
<Card title={"NewExpr"} href={"/docs/api/pulse/transpiler/vdom/NewExpr"} />
<Card title={"VDOMElement"} href={"/docs/api/pulse/transpiler/vdom/VDOMElement"} />
<Card title={"ReplaceOperation"} href={"/docs/api/pulse/transpiler/vdom/ReplaceOperation"} />
<Card title={"ReconciliationOperation"} href={"/docs/api/pulse/transpiler/vdom/ReconciliationOperation"} />
<Card title={"UpdatePropsDelta"} href={"/docs/api/pulse/transpiler/vdom/UpdatePropsDelta"} />
<Card title={"UpdatePropsOperation"} href={"/docs/api/pulse/transpiler/vdom/UpdatePropsOperation"} />
<Card title={"PrerenderView"} href={"/docs/api/pulse/transpiler/vdom/PrerenderView"} />

</Cards>

</Tab>

</Tabs>